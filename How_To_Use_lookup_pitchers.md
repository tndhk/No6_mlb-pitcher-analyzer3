# MLB投手ID検索ツール

このツールは、MLB投手の名前からStatcast用のMLB IDを検索し、CSVファイルに保存するためのものです。MLBピッチャーダッシュボードプロジェクトに新しい投手データを追加する際に便利です。

## インストール

このツールを使用するには、以下の依存パッケージが必要です：
- pandas
- pybaseball

これらは以下のコマンドでインストールできます：

```bash
pip install pandas pybaseball
```

## 使用方法

### 1. 単一の投手を検索する

```bash
python lookup_pitchers.py -n "Shota Imanaga"
docker compose exec app python lookup_pitchers.py -n "Shota Imanaga"
```

これにより、大谷翔平選手のMLB IDが検索され、CSVに保存するかどうか尋ねられます。

### 2. 対話モードで複数の投手を検索する

```bash
python lookup_pitchers.py
```

このコマンドを実行すると、対話モードで複数の投手を検索できます。終了するには 'q' を入力します。

### 3. CSVファイルから一括検索する

名前のリストを含むCSVファイルから一括検索するには：

```bash
python lookup_pitchers.py -i input_names.csv
```

入力CSVファイルは、各行に「ファーストネーム,ラストネーム」の形式で記述する必要があります。

### 4. サンプルの一括検索スクリプト

`bulk_lookup_example.py`はスクリプト内に複数の投手名を直接記述して一括検索する例です：

```bash
python bulk_lookup_example.py
```

このスクリプトを実行すると、スクリプト内にハードコードされた投手のリストが検索され、CSVファイルに保存されます。

## 出力ファイル

- デフォルトでは、結果は`pitchers.csv`ファイルに保存されます
- 既存のファイルがある場合は、新しい選手が追加されます（MLB IDの重複はスキップされます）
- 出力CSVには、`mlb_id`, `name`, `team`の3つの列があります
  - `team`列はAPIから直接取得できないため、空になっています。必要に応じて手動で追加してください

## 注意事項

- 検索は`pybaseball`ライブラリに依存しています
- 同姓同名の選手がいる場合は、最初に見つかった選手が使用されます
- 選手のチーム情報はAPIから直接取得できないため、手動で追加する必要があります
- 選手によっては検索できない場合があります（特に古い選手や綴りが特殊な選手名）

## トラブルシューティング

選手が見つからない場合：
1. 名前の綴りを確認してください
2. 名前と姓の順序が正しいか確認してください
3. 姓に複数の単語がある場合（例：「deGrom」など）、正確に入力してください